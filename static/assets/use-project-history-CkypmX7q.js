import{r}from"./index-ChQQQq2j.js";const a="voice_changer_projects",i=20;function u(){try{const t=localStorage.getItem(a);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load projects:",t)}return[]}function j(t){try{localStorage.setItem(a,JSON.stringify(t))}catch(e){console.error("Failed to save projects:",e)}}function P(){const[t,e]=r.useState(()=>u());r.useEffect(()=>{j(t)},[t]);const n=r.useCallback(o=>{const c={...o,id:crypto.randomUUID(),createdAt:new Date().toISOString()};e(s=>[c,...s].slice(0,i))},[]),l=r.useCallback(o=>{e(c=>c.filter(s=>s.id!==o))},[]),d=r.useCallback(()=>{e([])},[]);return{projects:t,addProject:n,deleteProject:l,clearProjects:d}}export{P as u};
